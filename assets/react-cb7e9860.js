import{g as i}from"./messenger-provider-aedd2154.js";const R=React.createContext(void 0),f=e=>{const t=React.useContext(R);return(e==null?void 0:e.store)||t||i()},g=e=>typeof(e==null?void 0:e.then)=="function",b=React.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function v(e,t){const u=f(t),[[l,c,d],s]=React.useReducer(n=>{const a=u.get(e);return Object.is(n[0],a)&&n[1]===u&&n[2]===e?n:[a,u,e]},void 0,()=>[u.get(e),u,e]);let r=l;(c!==u||d!==e)&&(s(),r=u.get(e));const o=t==null?void 0:t.delay;return React.useEffect(()=>{const n=u.sub(e,()=>{if(typeof o=="number"){setTimeout(s,o);return}s()});return s(),n},[u,e,o]),React.useDebugValue(r),g(r)?b(r):r}function w(e,t){const u=f(t);return React.useCallback((...c)=>u.set(e,...c),[u,e])}function h(e,t){return[v(e,t),w(e,t)]}export{h as u};
