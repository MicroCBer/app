import{d as n}from"../../index-c550fbfb.js";import{m as c,s as d}from"../../messenger-provider-aedd2154.js";import{c as r}from"../../copyToClipboard-445aa5b6.js";const m=n({editor:{use:[()=>{const e=location.hash.slice(1),[s,t]=React.useState(e?decodeURIComponent(atob(e)):'console.log("Hello world!")');return React.useEffect(()=>{function o(){const a=location.hash.slice(1);t(a?decodeURIComponent(atob(a)):"")}return addEventListener("hashchange",o),()=>removeEventListener("hashchange",o)},[]),{code:s,setCode:t}}],load(e,s){e.addCommand(s.KeyMod.CtrlCmd|s.KeyCode.KeyS,()=>{const t=e.getValue();history.pushState(null,"","#"+btoa(encodeURIComponent(t))),r(location.href),c.then(o=>o.display("success","Saved to clipboard, you can share it to your friends!")),e.focus(),d(o=>o.concat({code:t,time:Date.now()}))})}}});export{m as _};
