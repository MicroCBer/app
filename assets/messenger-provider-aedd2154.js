var vr=Object.defineProperty;var gr=(t,e,r)=>e in t?vr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $e=(t,e,r)=>(gr(t,typeof e!="symbol"?e+"":e,r),r),dt=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var pt=(t,e,r)=>(dt(t,e,"read from private field"),r?r.call(t):e.get(t)),mt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Fe=(t,e,r,n)=>(dt(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{j as T}from"./index-c550fbfb.js";function Rr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Et(Object(r),!0).forEach(function(n){Rr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $r(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Sr(t,e){if(t==null)return{};var r=$r(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yr(t,e){return Or(t)||wr(t,e)||Ar(t,e)||Ir()}function Or(t){if(Array.isArray(t))return t}function wr(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var l=t[Symbol.iterator](),g;!(n=(g=l.next()).done)&&(r.push(g.value),!(e&&r.length===e));n=!0);}catch(o){s=!0,i=o}finally{try{!n&&l.return!=null&&l.return()}finally{if(s)throw i}}return r}}function Ar(t,e){if(t){if(typeof t=="string")return gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gt(t,e)}}function gt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ir(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rt(Object(r),!0).forEach(function(n){Lr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return e.reduceRight(function(s,i){return i(s)},n)}}function pe(t){return function e(){for(var r=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var l=arguments.length,g=new Array(l),o=0;o<l;o++)g[o]=arguments[o];return e.apply(r,[].concat(s,g))}}}function be(t){return{}.toString.call(t).includes("Object")}function Tr(t){return!Object.keys(t).length}function ve(t){return typeof t=="function"}function br(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pr(t,e){return be(e)||ee("changeType"),Object.keys(e).some(function(r){return!br(t,r)})&&ee("changeField"),e}function _r(t){ve(t)||ee("selectorType")}function jr(t){ve(t)||be(t)||ee("handlerType"),be(t)&&Object.values(t).some(function(e){return!ve(e)})&&ee("handlersType")}function Dr(t){t||ee("initialIsRequired"),be(t)||ee("initialType"),Tr(t)&&ee("initialContent")}function xr(t,e){throw new Error(t[e]||t.default)}var Cr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ee=pe(xr)(Cr),Se={changes:Pr,selector:_r,handler:jr,initial:Dr};function Mr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Se.initial(t),Se.handler(e);var r={current:t},n=pe(Fr)(r,e),s=pe(Ur)(r),i=pe(Se.changes)(t),l=pe(Vr)(r);function g(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(v){return v};return Se.selector(f),f(r.current)}function o(f){Nr(n,s,i,l)(f)}return[g,o]}function Vr(t,e){return ve(e)?e(t.current):e}function Ur(t,e){return t.current=$t($t({},t.current),e),e}function Fr(t,e,r){return ve(e)?e(t.current):Object.keys(r).forEach(function(n){var s;return(s=e[n])===null||s===void 0?void 0:s.call(e,t.current[n])}),r}var Gr={create:Mr},Br={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};function Hr(t){return function e(){for(var r=this,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var l=arguments.length,g=new Array(l),o=0;o<l;o++)g[o]=arguments[o];return e.apply(r,[].concat(s,g))}}}function Xr(t){return{}.toString.call(t).includes("Object")}function qr(t){return t||St("configIsRequired"),Xr(t)||St("configType"),t.urls?(zr(),{paths:{vs:t.urls.monacoBase}}):t}function zr(){console.warn(Zt.deprecation)}function Wr(t,e){throw new Error(t[e]||t.default)}var Zt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},St=Hr(Wr)(Zt),Yr={config:qr},Kr=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduceRight(function(i,l){return l(i)},s)}};function er(t,e){return Object.keys(e).forEach(function(r){e[r]instanceof Object&&t[r]&&Object.assign(e[r],er(t[r],e[r]))}),vt(vt({},t),e)}var kr={type:"cancelation",msg:"operation is manually canceled"};function Ge(t){var e=!1,r=new Promise(function(n,s){t.then(function(i){return e?s(kr):n(i)}),t.catch(s)});return r.cancel=function(){return e=!0},r}var Jr=Gr.create({config:Br,isInitialized:!1,resolve:null,reject:null,monaco:null}),tr=yr(Jr,2),ge=tr[0],De=tr[1];function Qr(t){var e=Yr.config(t),r=e.monaco,n=Sr(e,["monaco"]);De(function(s){return{config:er(s.config,n),monaco:r}})}function Zr(){var t=ge(function(e){var r=e.monaco,n=e.isInitialized,s=e.resolve;return{monaco:r,isInitialized:n,resolve:s}});if(!t.isInitialized){if(De({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),Ge(Be);if(window.monaco&&window.monaco.editor)return rr(window.monaco),t.resolve(window.monaco),Ge(Be);Kr(en,rn)(nn)}return Ge(Be)}function en(t){return document.body.appendChild(t)}function tn(t){var e=document.createElement("script");return t&&(e.src=t),e}function rn(t){var e=ge(function(n){var s=n.config,i=n.reject;return{config:s,reject:i}}),r=tn("".concat(e.config.paths.vs,"/loader.js"));return r.onload=function(){return t()},r.onerror=e.reject,r}function nn(){var t=ge(function(r){var n=r.config,s=r.resolve,i=r.reject;return{config:n,resolve:s,reject:i}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(r){rr(r),t.resolve(r)},function(r){t.reject(r)})}function rr(t){ge().monaco||De({monaco:t})}function sn(){return ge(function(t){var e=t.monaco;return e})}var Be=new Promise(function(t,e){return De({resolve:t,reject:e})}),Pe={config:Qr,init:Zr,__getMonacoInstance:sn},on={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},He=on,an={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},cn=an;function ln({children:t}){return React.createElement("div",{style:cn.container},t)}var un=ln,fn=un;function hn({width:t,height:e,isEditorReady:r,loading:n,_ref:s,className:i,wrapperProps:l}){return React.createElement("section",{style:{...He.wrapper,width:t,height:e},...l},!r&&React.createElement(fn,null,n),React.createElement("div",{ref:s,style:{...He.fullWidth,...!r&&He.hide},className:i}))}var dn=hn,nr=React.memo(dn);function pn(t){React.useEffect(t,[])}var nt=pn;function mn(t,e,r=!0){let n=React.useRef(!0);React.useEffect(n.current||!r?()=>{n.current=!1}:t,e)}var q=mn;function me(){}function oe(t,e,r,n){return En(t,n)||vn(t,e,r,n)}function En(t,e){return t.editor.getModel(sr(t,e))}function vn(t,e,r,n){return t.editor.createModel(e,r,n?sr(t,n):void 0)}function sr(t,e){return t.Uri.parse(e)}function gn({original:t,modified:e,language:r,originalLanguage:n,modifiedLanguage:s,originalModelPath:i,modifiedModelPath:l,keepCurrentOriginalModel:g=!1,keepCurrentModifiedModel:o=!1,theme:f="light",loading:v="Loading...",options:m={},height:L="100%",width:O="100%",className:A,wrapperProps:b={},beforeMount:x=me,onMount:_=me}){let[P,G]=React.useState(!1),[H,V]=React.useState(!0),U=React.useRef(null),F=React.useRef(null),h=React.useRef(null),$=React.useRef(_),R=React.useRef(x),S=React.useRef(!1);nt(()=>{let u=Pe.init();return u.then(p=>(F.current=p)&&V(!1)).catch(p=>(p==null?void 0:p.type)!=="cancelation"&&console.error("Monaco initialization: error:",p)),()=>U.current?a():u.cancel()}),q(()=>{let u=U.current.getModifiedEditor();u.getOption(F.current.editor.EditorOption.readOnly)?u.setValue(e||""):e!==u.getValue()&&(u.executeEdits("",[{range:u.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),u.pushUndoStop())},[e],P),q(()=>{var u,p;(p=(u=U.current)==null?void 0:u.getModel())==null||p.original.setValue(t||"")},[t],P),q(()=>{let{original:u,modified:p}=U.current.getModel();F.current.editor.setModelLanguage(u,n||r||"text"),F.current.editor.setModelLanguage(p,s||r||"text")},[r,n,s],P),q(()=>{var u;(u=F.current)==null||u.editor.setTheme(f)},[f],P),q(()=>{var u;(u=U.current)==null||u.updateOptions(m)},[m],P);let I=React.useCallback(()=>{var d;if(!F.current)return;R.current(F.current);let u=oe(F.current,t||"",n||r||"text",i||""),p=oe(F.current,e||"",s||r||"text",l||"");(d=U.current)==null||d.setModel({original:u,modified:p})},[r,e,s,t,n,i,l]),c=React.useCallback(()=>{var u;!S.current&&h.current&&(U.current=F.current.editor.createDiffEditor(h.current,{automaticLayout:!0,...m}),I(),(u=F.current)==null||u.editor.setTheme(f),G(!0),S.current=!0)},[m,f,I]);React.useEffect(()=>{P&&$.current(U.current,F.current)},[P]),React.useEffect(()=>{!H&&!P&&c()},[H,P,c]),q(()=>{if(U.current&&F.current){let u=U.current.getOriginalEditor(),p=oe(F.current,t||"",n||r||"text",i||"");p!==u.getModel()&&u.setModel(p)}},[i],P),q(()=>{if(U.current&&F.current){let u=U.current.getModifiedEditor(),p=oe(F.current,e||"",s||r||"text",l||"");p!==u.getModel()&&u.setModel(p)}},[l],P);function a(){var p,d,E,w;let u=(p=U.current)==null?void 0:p.getModel();g||((d=u==null?void 0:u.original)==null||d.dispose()),o||((E=u==null?void 0:u.modified)==null||E.dispose()),(w=U.current)==null||w.dispose()}return React.createElement(nr,{width:O,height:L,isEditorReady:P,loading:v,_ref:h,className:A,wrapperProps:b})}var Rn=gn;React.memo(Rn);function $n(){let[t,e]=React.useState(Pe.__getMonacoInstance());return nt(()=>{let r;return t||(r=Pe.init(),r.then(n=>{e(n)})),()=>r==null?void 0:r.cancel()}),t}var Bo=$n;function Sn(t){let e=React.useRef();return React.useEffect(()=>{e.current=t},[t]),e.current}var yn=Sn,ye=new Map;function On({defaultValue:t,defaultLanguage:e,defaultPath:r,value:n,language:s,path:i,theme:l="light",line:g,loading:o="Loading...",options:f={},overrideServices:v={},saveViewState:m=!0,keepCurrentModel:L=!1,width:O="100%",height:A="100%",className:b,wrapperProps:x={},beforeMount:_=me,onMount:P=me,onChange:G,onValidate:H=me}){let[V,U]=React.useState(!1),[F,h]=React.useState(!0),$=React.useRef(null),R=React.useRef(null),S=React.useRef(null),I=React.useRef(P),c=React.useRef(_),a=React.useRef(),u=React.useRef(n),p=yn(i),d=React.useRef(!1),E=React.useRef(!1);nt(()=>{let y=Pe.init();return y.then(N=>($.current=N)&&h(!1)).catch(N=>(N==null?void 0:N.type)!=="cancelation"&&console.error("Monaco initialization: error:",N)),()=>R.current?j():y.cancel()}),q(()=>{var N,C,M,z;let y=oe($.current,t||n||"",e||s||"",i||r||"");y!==((N=R.current)==null?void 0:N.getModel())&&(m&&ye.set(p,(C=R.current)==null?void 0:C.saveViewState()),(M=R.current)==null||M.setModel(y),m&&((z=R.current)==null||z.restoreViewState(ye.get(i))))},[i],V),q(()=>{var y;(y=R.current)==null||y.updateOptions(f)},[f],V),q(()=>{!R.current||n===void 0||(R.current.getOption($.current.editor.EditorOption.readOnly)?R.current.setValue(n):n!==R.current.getValue()&&(E.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),R.current.pushUndoStop(),E.current=!1))},[n],V),q(()=>{var N,C;let y=(N=R.current)==null?void 0:N.getModel();y&&s&&((C=$.current)==null||C.editor.setModelLanguage(y,s))},[s],V),q(()=>{var y;g!==void 0&&((y=R.current)==null||y.revealLine(g))},[g],V),q(()=>{var y;(y=$.current)==null||y.editor.setTheme(l)},[l],V);let w=React.useCallback(()=>{var y;if(!(!S.current||!$.current)&&!d.current){c.current($.current);let N=i||r,C=oe($.current,n||t||"",e||s||"",N||"");R.current=(y=$.current)==null?void 0:y.editor.create(S.current,{model:C,automaticLayout:!0,...f},v),m&&R.current.restoreViewState(ye.get(N)),$.current.editor.setTheme(l),U(!0),d.current=!0}},[t,e,r,n,s,i,f,v,m,l]);React.useEffect(()=>{V&&I.current(R.current,$.current)},[V]),React.useEffect(()=>{!F&&!V&&w()},[F,V,w]),u.current=n,React.useEffect(()=>{var y,N;V&&G&&((y=a.current)==null||y.dispose(),a.current=(N=R.current)==null?void 0:N.onDidChangeModelContent(C=>{E.current||G(R.current.getValue(),C)}))},[V,G]),React.useEffect(()=>{if(V){let y=$.current.editor.onDidChangeMarkers(N=>{var M;let C=(M=R.current.getModel())==null?void 0:M.uri;if(C&&N.find(z=>z.path===C.path)){let z=$.current.editor.getModelMarkers({resource:C});H==null||H(z)}});return()=>{y==null||y.dispose()}}return()=>{}},[V,H]);function j(){var y,N;(y=a.current)==null||y.dispose(),L?m&&ye.set(i,R.current.saveViewState()):(N=R.current.getModel())==null||N.dispose(),R.current.dispose()}return React.createElement(nr,{width:O,height:A,isEditorReady:V,loading:o,_ref:S,className:b,wrapperProps:x})}var wn=On,An=React.memo(wn),In=An;let Ln=0;function Nn(t,e){const r=`atom${++Ln}`,n={toString:()=>r};return typeof t=="function"?n.read=t:(n.init=t,n.read=s=>s(n),n.write=(s,i,l)=>i(n,typeof l=="function"?l(s(n)):l)),e&&(n.write=e),n}const yt=t=>"init"in t,Ot=t=>!!t.write,_e=new WeakMap,Tn=(t,e)=>{_e.set(t,e),t.catch(()=>{}).finally(()=>_e.delete(t))},wt=(t,e)=>{const r=_e.get(t);r&&(_e.delete(t),r(e))},At=(t,e)=>{t.status="fulfilled",t.value=e},It=(t,e)=>{t.status="rejected",t.reason=e},bn=t=>typeof(t==null?void 0:t.then)=="function",Oe=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),Lt=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),ue=t=>"v"in t&&t.v instanceof Promise,Pn=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,we=t=>{if("e"in t)throw t.e;return t.v},_n=()=>{const t=new WeakMap,e=new WeakMap,r=new Map;let n,s;const i=h=>t.get(h),l=(h,$)=>{const R=t.get(h);if(t.set(h,$),r.has(h)||r.set(h,R),R&&ue(R)){const S="v"in $?$.v instanceof Promise?$.v:Promise.resolve($.v):Promise.reject($.e);wt(R.v,S)}},g=(h,$,R)=>{const S=new Map;let I=!1;R.forEach((c,a)=>{!c&&a===h&&(c=$),c&&(S.set(a,c),$.d.get(a)!==c&&(I=!0))}),(I||$.d.size!==S.size)&&($.d=S)},o=(h,$,R)=>{const S=i(h),I={d:(S==null?void 0:S.d)||new Map,v:$};if(R&&g(h,I,R),S&&Oe(S,I)&&S.d===I.d)return S;if(S&&ue(S)&&ue(I)&&Pn(S,I)){if(S.d===I.d)return S;I.v=S.v}return l(h,I),I},f=(h,$,R,S)=>{if(bn($)){let I;const c=new Promise((a,u)=>{let p=!1;$.then(d=>{if(!p){p=!0;const E=i(h),w=o(h,c,R);At(c,d),a(d),(E==null?void 0:E.d)!==w.d&&V(h,w,E==null?void 0:E.d)}},d=>{if(!p){p=!0;const E=i(h),w=o(h,c,R);It(c,d),u(d),(E==null?void 0:E.d)!==w.d&&V(h,w,E==null?void 0:E.d)}}),I=d=>{p||(p=!0,d.then(E=>At(c,E),E=>It(c,E)),a(d))}});return c.orig=$,c.status="pending",Tn(c,a=>{a&&I(a),S==null||S()}),o(h,c,R)}return o(h,$,R)},v=(h,$,R)=>{const S=i(h),I={d:(S==null?void 0:S.d)||new Map,e:$};return R&&g(h,I,R),S&&Lt(S,I)&&S.d===I.d?S:(l(h,I),I)},m=(h,$)=>{const R=i(h);if(!$&&R&&(e.has(h)||Array.from(R.d).every(([d,E])=>d===h||m(d)===E)))return R;const S=new Map;let I=!0;const c=d=>{if(d===h){const w=i(d);if(w)return S.set(d,w),we(w);if(yt(d))return S.set(d,void 0),d.init;throw new Error("no atom init")}const E=m(d);return S.set(d,E),we(E)};let a,u;const p={get signal(){return a||(a=new AbortController),a.signal},get setSelf(){return!u&&Ot(h)&&(u=(...d)=>{if(!I)return P(h,...d)}),u}};try{const d=h.read(c,p);return f(h,d,S,()=>a==null?void 0:a.abort())}catch(d){return v(h,d,S)}finally{I=!1}},L=h=>we(m(h)),O=h=>{let $=e.get(h);return $||($=G(h)),$},A=(h,$)=>!$.l.size&&(!$.t.size||$.t.size===1&&$.t.has(h)),b=h=>{const $=e.get(h);$&&A(h,$)&&H(h)},x=h=>{const $=new Map,R=new WeakMap,S=c=>{const a=e.get(c);a==null||a.t.forEach(u=>{u!==c&&($.set(u,($.get(u)||new Set).add(c)),R.set(u,(R.get(u)||0)+1),S(u))})};S(h);const I=c=>{const a=e.get(c);a==null||a.t.forEach(u=>{var p;if(u!==c){let d=R.get(u);if(d&&R.set(u,--d),!d){let E=!!((p=$.get(u))!=null&&p.size);if(E){const w=i(u),j=m(u,!0);E=!w||!Oe(w,j)}E||$.forEach(w=>w.delete(u))}I(u)}})};I(h)},_=(h,...$)=>{let R=!0;const S=a=>we(m(a)),I=(a,...u)=>{let p;if(a===h){if(!yt(a))throw new Error("atom not writable");const d=i(a),E=f(a,u[0]);(!d||!Oe(d,E))&&x(a)}else p=_(a,...u);if(!R){const d=U()}return p},c=h.write(S,I,...$);return R=!1,c},P=(h,...$)=>{const R=_(h,...$),S=U();return R},G=(h,$)=>{var R;(R=i(h))==null||R.d.forEach((I,c)=>{const a=e.get(c);a?a.t.add(h):c!==h&&G(c,h)}),m(h);const S={t:new Set($&&[$]),l:new Set};if(e.set(h,S),Ot(h)&&h.onMount){const I=h.onMount((...c)=>P(h,...c));I&&(S.u=I)}return S},H=h=>{var $;const R=($=e.get(h))==null?void 0:$.u;R&&R(),e.delete(h);const S=i(h);S&&(ue(S)&&wt(S.v),S.d.forEach((I,c)=>{if(c!==h){const a=e.get(c);a&&(a.t.delete(h),A(c,a)&&H(c))}}))},V=(h,$,R)=>{const S=new Set($.d.keys());R==null||R.forEach((I,c)=>{if(S.has(c)){S.delete(c);return}const a=e.get(c);a&&(a.t.delete(h),A(c,a)&&H(c))}),S.forEach(I=>{const c=e.get(I);c?c.t.add(h):e.has(h)&&G(I,h)})},U=()=>{let h;for(;r.size;){const $=Array.from(r);r.clear(),$.forEach(([R,S])=>{const I=i(R);if(I){I.d!==(S==null?void 0:S.d)&&V(R,I,S==null?void 0:S.d);const c=e.get(R);c&&!(S&&!ue(S)&&(Oe(S,I)||Lt(S,I)))&&c.l.forEach(a=>a())}})}};return{get:L,set:P,sub:(h,$)=>{const R=O(h),S=U(),I=R.l;return I.add($),()=>{I.delete($),b(h)}}}};let Xe;const Ho=()=>(Xe||(Xe=_n()),Xe),Xo=React.createContext({plugins:[],searchParams:new URLSearchParams,shareState:{}}),qo=React.createContext(null);var et={exports:{}};const jn="2.0.0",ir=256,Dn=Number.MAX_SAFE_INTEGER||9007199254740991,xn=16,Cn=ir-6,Mn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var xe={MAX_LENGTH:ir,MAX_SAFE_COMPONENT_LENGTH:xn,MAX_SAFE_BUILD_LENGTH:Cn,MAX_SAFE_INTEGER:Dn,RELEASE_TYPES:Mn,SEMVER_SPEC_VERSION:jn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Vn=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Ce=Vn;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=xe,i=Ce;e=t.exports={};const l=e.re=[],g=e.safeRe=[],o=e.src=[],f=e.t={};let v=0;const m="[a-zA-Z0-9-]",L=[["\\s",1],["\\d",s],[m,n]],O=b=>{for(const[x,_]of L)b=b.split(`${x}*`).join(`${x}{0,${_}}`).split(`${x}+`).join(`${x}{1,${_}}`);return b},A=(b,x,_)=>{const P=O(x),G=v++;i(b,G,x),f[b]=G,o[G]=x,l[G]=new RegExp(x,_?"g":void 0),g[G]=new RegExp(P,_?"g":void 0)};A("NUMERICIDENTIFIER","0|[1-9]\\d*"),A("NUMERICIDENTIFIERLOOSE","\\d+"),A("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${m}*`),A("MAINVERSION",`(${o[f.NUMERICIDENTIFIER]})\\.(${o[f.NUMERICIDENTIFIER]})\\.(${o[f.NUMERICIDENTIFIER]})`),A("MAINVERSIONLOOSE",`(${o[f.NUMERICIDENTIFIERLOOSE]})\\.(${o[f.NUMERICIDENTIFIERLOOSE]})\\.(${o[f.NUMERICIDENTIFIERLOOSE]})`),A("PRERELEASEIDENTIFIER",`(?:${o[f.NUMERICIDENTIFIER]}|${o[f.NONNUMERICIDENTIFIER]})`),A("PRERELEASEIDENTIFIERLOOSE",`(?:${o[f.NUMERICIDENTIFIERLOOSE]}|${o[f.NONNUMERICIDENTIFIER]})`),A("PRERELEASE",`(?:-(${o[f.PRERELEASEIDENTIFIER]}(?:\\.${o[f.PRERELEASEIDENTIFIER]})*))`),A("PRERELEASELOOSE",`(?:-?(${o[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[f.PRERELEASEIDENTIFIERLOOSE]})*))`),A("BUILDIDENTIFIER",`${m}+`),A("BUILD",`(?:\\+(${o[f.BUILDIDENTIFIER]}(?:\\.${o[f.BUILDIDENTIFIER]})*))`),A("FULLPLAIN",`v?${o[f.MAINVERSION]}${o[f.PRERELEASE]}?${o[f.BUILD]}?`),A("FULL",`^${o[f.FULLPLAIN]}$`),A("LOOSEPLAIN",`[v=\\s]*${o[f.MAINVERSIONLOOSE]}${o[f.PRERELEASELOOSE]}?${o[f.BUILD]}?`),A("LOOSE",`^${o[f.LOOSEPLAIN]}$`),A("GTLT","((?:<|>)?=?)"),A("XRANGEIDENTIFIERLOOSE",`${o[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),A("XRANGEIDENTIFIER",`${o[f.NUMERICIDENTIFIER]}|x|X|\\*`),A("XRANGEPLAIN",`[v=\\s]*(${o[f.XRANGEIDENTIFIER]})(?:\\.(${o[f.XRANGEIDENTIFIER]})(?:\\.(${o[f.XRANGEIDENTIFIER]})(?:${o[f.PRERELEASE]})?${o[f.BUILD]}?)?)?`),A("XRANGEPLAINLOOSE",`[v=\\s]*(${o[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[f.XRANGEIDENTIFIERLOOSE]})(?:${o[f.PRERELEASELOOSE]})?${o[f.BUILD]}?)?)?`),A("XRANGE",`^${o[f.GTLT]}\\s*${o[f.XRANGEPLAIN]}$`),A("XRANGELOOSE",`^${o[f.GTLT]}\\s*${o[f.XRANGEPLAINLOOSE]}$`),A("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),A("COERCERTL",o[f.COERCE],!0),A("LONETILDE","(?:~>?)"),A("TILDETRIM",`(\\s*)${o[f.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",A("TILDE",`^${o[f.LONETILDE]}${o[f.XRANGEPLAIN]}$`),A("TILDELOOSE",`^${o[f.LONETILDE]}${o[f.XRANGEPLAINLOOSE]}$`),A("LONECARET","(?:\\^)"),A("CARETTRIM",`(\\s*)${o[f.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",A("CARET",`^${o[f.LONECARET]}${o[f.XRANGEPLAIN]}$`),A("CARETLOOSE",`^${o[f.LONECARET]}${o[f.XRANGEPLAINLOOSE]}$`),A("COMPARATORLOOSE",`^${o[f.GTLT]}\\s*(${o[f.LOOSEPLAIN]})$|^$`),A("COMPARATOR",`^${o[f.GTLT]}\\s*(${o[f.FULLPLAIN]})$|^$`),A("COMPARATORTRIM",`(\\s*)${o[f.GTLT]}\\s*(${o[f.LOOSEPLAIN]}|${o[f.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",A("HYPHENRANGE",`^\\s*(${o[f.XRANGEPLAIN]})\\s+-\\s+(${o[f.XRANGEPLAIN]})\\s*$`),A("HYPHENRANGELOOSE",`^\\s*(${o[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[f.XRANGEPLAINLOOSE]})\\s*$`),A("STAR","(<|>)?=?\\s*\\*"),A("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),A("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(et,et.exports);var Re=et.exports;const Un=Object.freeze({loose:!0}),Fn=Object.freeze({}),Gn=t=>t?typeof t!="object"?Un:t:Fn;var st=Gn;const Nt=/^[0-9]+$/,or=(t,e)=>{const r=Nt.test(t),n=Nt.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Bn=(t,e)=>or(e,t);var ar={compareIdentifiers:or,rcompareIdentifiers:Bn};const Ae=Ce,{MAX_LENGTH:Tt,MAX_SAFE_INTEGER:Ie}=xe,{safeRe:bt,t:Pt}=Re,Hn=st,{compareIdentifiers:se}=ar;let Xn=class k{constructor(e,r){if(r=Hn(r),e instanceof k){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Tt)throw new TypeError(`version is longer than ${Tt} characters`);Ae("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?bt[Pt.LOOSE]:bt[Pt.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ie||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ie||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ie||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const i=+s;if(i>=0&&i<Ie)return i}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ae("SemVer.compare",this.version,this.options,e),!(e instanceof k)){if(typeof e=="string"&&e===this.version)return 0;e=new k(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof k||(e=new k(e,this.options)),se(this.major,e.major)||se(this.minor,e.minor)||se(this.patch,e.patch)}comparePre(e){if(e instanceof k||(e=new k(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],s=e.prerelease[r];if(Ae("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return se(n,s)}while(++r)}compareBuild(e){e instanceof k||(e=new k(e,this.options));let r=0;do{const n=this.build[r],s=e.build[r];if(Ae("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return se(n,s)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];n===!1&&(i=[r]),se(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var X=Xn;const _t=X,qn=(t,e,r=!1)=>{if(t instanceof _t)return t;try{return new _t(t,e)}catch(n){if(!r)return null;throw n}};var le=qn;const zn=le,Wn=(t,e)=>{const r=zn(t,e);return r?r.version:null};var Yn=Wn;const Kn=le,kn=(t,e)=>{const r=Kn(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Jn=kn;const jt=X,Qn=(t,e,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new jt(t instanceof jt?t.version:t,r).inc(e,n,s).version}catch{return null}};var Zn=Qn;const Dt=le,es=(t,e)=>{const r=Dt(t,null,!0),n=Dt(e,null,!0),s=r.compare(n);if(s===0)return null;const i=s>0,l=i?r:n,g=i?n:r,o=!!l.prerelease.length;if(!!g.prerelease.length&&!o)return!g.patch&&!g.minor?"major":l.patch?"patch":l.minor?"minor":"major";const v=o?"pre":"";return r.major!==n.major?v+"major":r.minor!==n.minor?v+"minor":r.patch!==n.patch?v+"patch":"prerelease"};var ts=es;const rs=X,ns=(t,e)=>new rs(t,e).major;var ss=ns;const is=X,os=(t,e)=>new is(t,e).minor;var as=os;const cs=X,ls=(t,e)=>new cs(t,e).patch;var us=ls;const fs=le,hs=(t,e)=>{const r=fs(t,e);return r&&r.prerelease.length?r.prerelease:null};var ds=hs;const xt=X,ps=(t,e,r)=>new xt(t,r).compare(new xt(e,r));var Y=ps;const ms=Y,Es=(t,e,r)=>ms(e,t,r);var vs=Es;const gs=Y,Rs=(t,e)=>gs(t,e,!0);var $s=Rs;const Ct=X,Ss=(t,e,r)=>{const n=new Ct(t,r),s=new Ct(e,r);return n.compare(s)||n.compareBuild(s)};var it=Ss;const ys=it,Os=(t,e)=>t.sort((r,n)=>ys(r,n,e));var ws=Os;const As=it,Is=(t,e)=>t.sort((r,n)=>As(n,r,e));var Ls=Is;const Ns=Y,Ts=(t,e,r)=>Ns(t,e,r)>0;var Me=Ts;const bs=Y,Ps=(t,e,r)=>bs(t,e,r)<0;var ot=Ps;const _s=Y,js=(t,e,r)=>_s(t,e,r)===0;var cr=js;const Ds=Y,xs=(t,e,r)=>Ds(t,e,r)!==0;var lr=xs;const Cs=Y,Ms=(t,e,r)=>Cs(t,e,r)>=0;var at=Ms;const Vs=Y,Us=(t,e,r)=>Vs(t,e,r)<=0;var ct=Us;const Fs=cr,Gs=lr,Bs=Me,Hs=at,Xs=ot,qs=ct,zs=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Fs(t,r,n);case"!=":return Gs(t,r,n);case">":return Bs(t,r,n);case">=":return Hs(t,r,n);case"<":return Xs(t,r,n);case"<=":return qs(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var ur=zs;const Ws=X,Ys=le,{safeRe:Le,t:Ne}=Re,Ks=(t,e)=>{if(t instanceof Ws)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Le[Ne.COERCE]);else{let n;for(;(n=Le[Ne.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Le[Ne.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Le[Ne.COERCERTL].lastIndex=-1}return r===null?null:Ys(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var ks=Ks,qe,Mt;function Js(){return Mt||(Mt=1,qe=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),qe}var Qs=D;D.Node=ne;D.create=D;function D(t){var e=this;if(e instanceof D||(e=new D),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}D.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};D.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};D.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};D.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)ei(this,arguments[t]);return this.length};D.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)ti(this,arguments[t]);return this.length};D.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};D.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};D.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};D.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};D.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};D.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};D.prototype.map=function(t,e){e=e||this;for(var r=new D,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};D.prototype.mapReverse=function(t,e){e=e||this;for(var r=new D,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};D.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};D.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};D.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};D.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};D.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new D;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};D.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new D;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};D.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var i=[],n=0;s&&n<e;n++)i.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=Zs(this,s,r[n]);return i};D.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Zs(t,e,r){var n=e===t.head?new ne(r,null,e,t):new ne(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function ei(t,e){t.tail=new ne(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function ti(t,e){t.head=new ne(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ne(t,e,r,n){if(!(this instanceof ne))return new ne(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Js()(D)}catch{}const ri=Qs,te=Symbol("max"),Q=Symbol("length"),ie=Symbol("lengthCalculator"),Ee=Symbol("allowStale"),re=Symbol("maxAge"),J=Symbol("dispose"),Vt=Symbol("noDisposeOnSet"),B=Symbol("lruList"),W=Symbol("cache"),fr=Symbol("updateAgeOnGet"),ze=()=>1;class ni{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[te]=e.max||1/0;const r=e.length||ze;if(this[ie]=typeof r!="function"?ze:r,this[Ee]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[re]=e.maxAge||0,this[J]=e.dispose,this[Vt]=e.noDisposeOnSet||!1,this[fr]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[te]=e||1/0,fe(this)}get max(){return this[te]}set allowStale(e){this[Ee]=!!e}get allowStale(){return this[Ee]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[re]=e,fe(this)}get maxAge(){return this[re]}set lengthCalculator(e){typeof e!="function"&&(e=ze),e!==this[ie]&&(this[ie]=e,this[Q]=0,this[B].forEach(r=>{r.length=this[ie](r.value,r.key),this[Q]+=r.length})),fe(this)}get lengthCalculator(){return this[ie]}get length(){return this[Q]}get itemCount(){return this[B].length}rforEach(e,r){r=r||this;for(let n=this[B].tail;n!==null;){const s=n.prev;Ut(this,e,n,r),n=s}}forEach(e,r){r=r||this;for(let n=this[B].head;n!==null;){const s=n.next;Ut(this,e,n,r),n=s}}keys(){return this[B].toArray().map(e=>e.key)}values(){return this[B].toArray().map(e=>e.value)}reset(){this[J]&&this[B]&&this[B].length&&this[B].forEach(e=>this[J](e.key,e.value)),this[W]=new Map,this[B]=new ri,this[Q]=0}dump(){return this[B].map(e=>je(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[B]}set(e,r,n){if(n=n||this[re],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const s=n?Date.now():0,i=this[ie](r,e);if(this[W].has(e)){if(i>this[te])return ae(this,this[W].get(e)),!1;const o=this[W].get(e).value;return this[J]&&(this[Vt]||this[J](e,o.value)),o.now=s,o.maxAge=n,o.value=r,this[Q]+=i-o.length,o.length=i,this.get(e),fe(this),!0}const l=new si(e,r,i,s,n);return l.length>this[te]?(this[J]&&this[J](e,r),!1):(this[Q]+=l.length,this[B].unshift(l),this[W].set(e,this[B].head),fe(this),!0)}has(e){if(!this[W].has(e))return!1;const r=this[W].get(e).value;return!je(this,r)}get(e){return We(this,e,!0)}peek(e){return We(this,e,!1)}pop(){const e=this[B].tail;return e?(ae(this,e),e.value):null}del(e){ae(this,this[W].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const s=e[n],i=s.e||0;if(i===0)this.set(s.k,s.v);else{const l=i-r;l>0&&this.set(s.k,s.v,l)}}}prune(){this[W].forEach((e,r)=>We(this,r,!1))}}const We=(t,e,r)=>{const n=t[W].get(e);if(n){const s=n.value;if(je(t,s)){if(ae(t,n),!t[Ee])return}else r&&(t[fr]&&(n.value.now=Date.now()),t[B].unshiftNode(n));return s.value}},je=(t,e)=>{if(!e||!e.maxAge&&!t[re])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[re]&&r>t[re]},fe=t=>{if(t[Q]>t[te])for(let e=t[B].tail;t[Q]>t[te]&&e!==null;){const r=e.prev;ae(t,e),e=r}},ae=(t,e)=>{if(e){const r=e.value;t[J]&&t[J](r.key,r.value),t[Q]-=r.length,t[W].delete(r.key),t[B].removeNode(e)}};class si{constructor(e,r,n,s,i){this.key=e,this.value=r,this.length=n,this.now=s,this.maxAge=i||0}}const Ut=(t,e,r,n)=>{let s=r.value;je(t,s)&&(ae(t,r),t[Ee]||(s=void 0)),s&&e.call(n,s.value,s.key,t)};var ii=ni,Ye,Ft;function K(){if(Ft)return Ye;Ft=1;class t{constructor(a,u){if(u=n(u),a instanceof t)return a.loose===!!u.loose&&a.includePrerelease===!!u.includePrerelease?a:new t(a.raw,u);if(a instanceof s)return this.raw=a.value,this.set=[[a]],this.format(),this;if(this.options=u,this.loose=!!u.loose,this.includePrerelease=!!u.includePrerelease,this.raw=a.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(p=>this.parseRange(p.trim())).filter(p=>p.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const p=this.set[0];if(this.set=this.set.filter(d=>!A(d[0])),this.set.length===0)this.set=[p];else if(this.set.length>1){for(const d of this.set)if(d.length===1&&b(d[0])){this.set=[d];break}}}this.format()}format(){return this.range=this.set.map(a=>a.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(a){const p=((this.options.includePrerelease&&L)|(this.options.loose&&O))+":"+a,d=r.get(p);if(d)return d;const E=this.options.loose,w=E?g[o.HYPHENRANGELOOSE]:g[o.HYPHENRANGE];a=a.replace(w,S(this.options.includePrerelease)),i("hyphen replace",a),a=a.replace(g[o.COMPARATORTRIM],f),i("comparator trim",a),a=a.replace(g[o.TILDETRIM],v),i("tilde trim",a),a=a.replace(g[o.CARETTRIM],m),i("caret trim",a);let j=a.split(" ").map(M=>_(M,this.options)).join(" ").split(/\s+/).map(M=>R(M,this.options));E&&(j=j.filter(M=>(i("loose invalid filter",M,this.options),!!M.match(g[o.COMPARATORLOOSE])))),i("range list",j);const y=new Map,N=j.map(M=>new s(M,this.options));for(const M of N){if(A(M))return[M];y.set(M.value,M)}y.size>1&&y.has("")&&y.delete("");const C=[...y.values()];return r.set(p,C),C}intersects(a,u){if(!(a instanceof t))throw new TypeError("a Range is required");return this.set.some(p=>x(p,u)&&a.set.some(d=>x(d,u)&&p.every(E=>d.every(w=>E.intersects(w,u)))))}test(a){if(!a)return!1;if(typeof a=="string")try{a=new l(a,this.options)}catch{return!1}for(let u=0;u<this.set.length;u++)if(I(this.set[u],a,this.options))return!0;return!1}}Ye=t;const e=ii,r=new e({max:1e3}),n=st,s=Ve(),i=Ce,l=X,{safeRe:g,t:o,comparatorTrimReplace:f,tildeTrimReplace:v,caretTrimReplace:m}=Re,{FLAG_INCLUDE_PRERELEASE:L,FLAG_LOOSE:O}=xe,A=c=>c.value==="<0.0.0-0",b=c=>c.value==="",x=(c,a)=>{let u=!0;const p=c.slice();let d=p.pop();for(;u&&p.length;)u=p.every(E=>d.intersects(E,a)),d=p.pop();return u},_=(c,a)=>(i("comp",c,a),c=V(c,a),i("caret",c),c=G(c,a),i("tildes",c),c=F(c,a),i("xrange",c),c=$(c,a),i("stars",c),c),P=c=>!c||c.toLowerCase()==="x"||c==="*",G=(c,a)=>c.trim().split(/\s+/).map(u=>H(u,a)).join(" "),H=(c,a)=>{const u=a.loose?g[o.TILDELOOSE]:g[o.TILDE];return c.replace(u,(p,d,E,w,j)=>{i("tilde",c,p,d,E,w,j);let y;return P(d)?y="":P(E)?y=`>=${d}.0.0 <${+d+1}.0.0-0`:P(w)?y=`>=${d}.${E}.0 <${d}.${+E+1}.0-0`:j?(i("replaceTilde pr",j),y=`>=${d}.${E}.${w}-${j} <${d}.${+E+1}.0-0`):y=`>=${d}.${E}.${w} <${d}.${+E+1}.0-0`,i("tilde return",y),y})},V=(c,a)=>c.trim().split(/\s+/).map(u=>U(u,a)).join(" "),U=(c,a)=>{i("caret",c,a);const u=a.loose?g[o.CARETLOOSE]:g[o.CARET],p=a.includePrerelease?"-0":"";return c.replace(u,(d,E,w,j,y)=>{i("caret",c,d,E,w,j,y);let N;return P(E)?N="":P(w)?N=`>=${E}.0.0${p} <${+E+1}.0.0-0`:P(j)?E==="0"?N=`>=${E}.${w}.0${p} <${E}.${+w+1}.0-0`:N=`>=${E}.${w}.0${p} <${+E+1}.0.0-0`:y?(i("replaceCaret pr",y),E==="0"?w==="0"?N=`>=${E}.${w}.${j}-${y} <${E}.${w}.${+j+1}-0`:N=`>=${E}.${w}.${j}-${y} <${E}.${+w+1}.0-0`:N=`>=${E}.${w}.${j}-${y} <${+E+1}.0.0-0`):(i("no pr"),E==="0"?w==="0"?N=`>=${E}.${w}.${j}${p} <${E}.${w}.${+j+1}-0`:N=`>=${E}.${w}.${j}${p} <${E}.${+w+1}.0-0`:N=`>=${E}.${w}.${j} <${+E+1}.0.0-0`),i("caret return",N),N})},F=(c,a)=>(i("replaceXRanges",c,a),c.split(/\s+/).map(u=>h(u,a)).join(" ")),h=(c,a)=>{c=c.trim();const u=a.loose?g[o.XRANGELOOSE]:g[o.XRANGE];return c.replace(u,(p,d,E,w,j,y)=>{i("xRange",c,p,d,E,w,j,y);const N=P(E),C=N||P(w),M=C||P(j),z=M;return d==="="&&z&&(d=""),y=a.includePrerelease?"-0":"",N?d===">"||d==="<"?p="<0.0.0-0":p="*":d&&z?(C&&(w=0),j=0,d===">"?(d=">=",C?(E=+E+1,w=0,j=0):(w=+w+1,j=0)):d==="<="&&(d="<",C?E=+E+1:w=+w+1),d==="<"&&(y="-0"),p=`${d+E}.${w}.${j}${y}`):C?p=`>=${E}.0.0${y} <${+E+1}.0.0-0`:M&&(p=`>=${E}.${w}.0${y} <${E}.${+w+1}.0-0`),i("xRange return",p),p})},$=(c,a)=>(i("replaceStars",c,a),c.trim().replace(g[o.STAR],"")),R=(c,a)=>(i("replaceGTE0",c,a),c.trim().replace(g[a.includePrerelease?o.GTE0PRE:o.GTE0],"")),S=c=>(a,u,p,d,E,w,j,y,N,C,M,z,Uo)=>(P(p)?u="":P(d)?u=`>=${p}.0.0${c?"-0":""}`:P(E)?u=`>=${p}.${d}.0${c?"-0":""}`:w?u=`>=${u}`:u=`>=${u}${c?"-0":""}`,P(N)?y="":P(C)?y=`<${+N+1}.0.0-0`:P(M)?y=`<${N}.${+C+1}.0-0`:z?y=`<=${N}.${C}.${M}-${z}`:c?y=`<${N}.${C}.${+M+1}-0`:y=`<=${y}`,`${u} ${y}`.trim()),I=(c,a,u)=>{for(let p=0;p<c.length;p++)if(!c[p].test(a))return!1;if(a.prerelease.length&&!u.includePrerelease){for(let p=0;p<c.length;p++)if(i(c[p].semver),c[p].semver!==s.ANY&&c[p].semver.prerelease.length>0){const d=c[p].semver;if(d.major===a.major&&d.minor===a.minor&&d.patch===a.patch)return!0}return!1}return!0};return Ye}var Ke,Gt;function Ve(){if(Gt)return Ke;Gt=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(v,m){if(m=r(m),v instanceof e){if(v.loose===!!m.loose)return v;v=v.value}v=v.trim().split(/\s+/).join(" "),l("comparator",v,m),this.options=m,this.loose=!!m.loose,this.parse(v),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(v){const m=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],L=v.match(m);if(!L)throw new TypeError(`Invalid comparator: ${v}`);this.operator=L[1]!==void 0?L[1]:"",this.operator==="="&&(this.operator=""),L[2]?this.semver=new g(L[2],this.options.loose):this.semver=t}toString(){return this.value}test(v){if(l("Comparator.test",v,this.options.loose),this.semver===t||v===t)return!0;if(typeof v=="string")try{v=new g(v,this.options)}catch{return!1}return i(v,this.operator,this.semver,this.options)}intersects(v,m){if(!(v instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o(v.value,m).test(this.value):v.operator===""?v.value===""?!0:new o(this.value,m).test(v.semver):(m=r(m),m.includePrerelease&&(this.value==="<0.0.0-0"||v.value==="<0.0.0-0")||!m.includePrerelease&&(this.value.startsWith("<0.0.0")||v.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&v.operator.startsWith(">")||this.operator.startsWith("<")&&v.operator.startsWith("<")||this.semver.version===v.semver.version&&this.operator.includes("=")&&v.operator.includes("=")||i(this.semver,"<",v.semver,m)&&this.operator.startsWith(">")&&v.operator.startsWith("<")||i(this.semver,">",v.semver,m)&&this.operator.startsWith("<")&&v.operator.startsWith(">")))}}Ke=e;const r=st,{safeRe:n,t:s}=Re,i=ur,l=Ce,g=X,o=K();return Ke}const oi=K(),ai=(t,e,r)=>{try{e=new oi(e,r)}catch{return!1}return e.test(t)};var Ue=ai;const ci=K(),li=(t,e)=>new ci(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var ui=li;const fi=X,hi=K(),di=(t,e,r)=>{let n=null,s=null,i=null;try{i=new hi(e,r)}catch{return null}return t.forEach(l=>{i.test(l)&&(!n||s.compare(l)===-1)&&(n=l,s=new fi(n,r))}),n};var pi=di;const mi=X,Ei=K(),vi=(t,e,r)=>{let n=null,s=null,i=null;try{i=new Ei(e,r)}catch{return null}return t.forEach(l=>{i.test(l)&&(!n||s.compare(l)===1)&&(n=l,s=new mi(n,r))}),n};var gi=vi;const ke=X,Ri=K(),Bt=Me,$i=(t,e)=>{t=new Ri(t,e);let r=new ke("0.0.0");if(t.test(r)||(r=new ke("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const s=t.set[n];let i=null;s.forEach(l=>{const g=new ke(l.semver.version);switch(l.operator){case">":g.prerelease.length===0?g.patch++:g.prerelease.push(0),g.raw=g.format();case"":case">=":(!i||Bt(g,i))&&(i=g);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),i&&(!r||Bt(r,i))&&(r=i)}return r&&t.test(r)?r:null};var Si=$i;const yi=K(),Oi=(t,e)=>{try{return new yi(t,e).range||"*"}catch{return null}};var wi=Oi;const Ai=X,hr=Ve(),{ANY:Ii}=hr,Li=K(),Ni=Ue,Ht=Me,Xt=ot,Ti=ct,bi=at,Pi=(t,e,r,n)=>{t=new Ai(t,n),e=new Li(e,n);let s,i,l,g,o;switch(r){case">":s=Ht,i=Ti,l=Xt,g=">",o=">=";break;case"<":s=Xt,i=bi,l=Ht,g="<",o="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ni(t,e,n))return!1;for(let f=0;f<e.set.length;++f){const v=e.set[f];let m=null,L=null;if(v.forEach(O=>{O.semver===Ii&&(O=new hr(">=0.0.0")),m=m||O,L=L||O,s(O.semver,m.semver,n)?m=O:l(O.semver,L.semver,n)&&(L=O)}),m.operator===g||m.operator===o||(!L.operator||L.operator===g)&&i(t,L.semver))return!1;if(L.operator===o&&l(t,L.semver))return!1}return!0};var lt=Pi;const _i=lt,ji=(t,e,r)=>_i(t,e,">",r);var Di=ji;const xi=lt,Ci=(t,e,r)=>xi(t,e,"<",r);var Mi=Ci;const qt=K(),Vi=(t,e,r)=>(t=new qt(t,r),e=new qt(e,r),t.intersects(e,r));var Ui=Vi;const Fi=Ue,Gi=Y;var Bi=(t,e,r)=>{const n=[];let s=null,i=null;const l=t.sort((v,m)=>Gi(v,m,r));for(const v of l)Fi(v,e,r)?(i=v,s||(s=v)):(i&&n.push([s,i]),i=null,s=null);s&&n.push([s,null]);const g=[];for(const[v,m]of n)v===m?g.push(v):!m&&v===l[0]?g.push("*"):m?v===l[0]?g.push(`<=${m}`):g.push(`${v} - ${m}`):g.push(`>=${v}`);const o=g.join(" || "),f=typeof e.raw=="string"?e.raw:String(e);return o.length<f.length?o:e};const zt=K(),ut=Ve(),{ANY:Je}=ut,he=Ue,ft=Y,Hi=(t,e,r={})=>{if(t===e)return!0;t=new zt(t,r),e=new zt(e,r);let n=!1;e:for(const s of t.set){for(const i of e.set){const l=qi(s,i,r);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},Xi=[new ut(">=0.0.0-0")],Wt=[new ut(">=0.0.0")],qi=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Je){if(e.length===1&&e[0].semver===Je)return!0;r.includePrerelease?t=Xi:t=Wt}if(e.length===1&&e[0].semver===Je){if(r.includePrerelease)return!0;e=Wt}const n=new Set;let s,i;for(const O of t)O.operator===">"||O.operator===">="?s=Yt(s,O,r):O.operator==="<"||O.operator==="<="?i=Kt(i,O,r):n.add(O.semver);if(n.size>1)return null;let l;if(s&&i){if(l=ft(s.semver,i.semver,r),l>0)return null;if(l===0&&(s.operator!==">="||i.operator!=="<="))return null}for(const O of n){if(s&&!he(O,String(s),r)||i&&!he(O,String(i),r))return null;for(const A of e)if(!he(O,String(A),r))return!1;return!0}let g,o,f,v,m=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,L=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;m&&m.prerelease.length===1&&i.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(const O of e){if(v=v||O.operator===">"||O.operator===">=",f=f||O.operator==="<"||O.operator==="<=",s){if(L&&O.semver.prerelease&&O.semver.prerelease.length&&O.semver.major===L.major&&O.semver.minor===L.minor&&O.semver.patch===L.patch&&(L=!1),O.operator===">"||O.operator===">="){if(g=Yt(s,O,r),g===O&&g!==s)return!1}else if(s.operator===">="&&!he(s.semver,String(O),r))return!1}if(i){if(m&&O.semver.prerelease&&O.semver.prerelease.length&&O.semver.major===m.major&&O.semver.minor===m.minor&&O.semver.patch===m.patch&&(m=!1),O.operator==="<"||O.operator==="<="){if(o=Kt(i,O,r),o===O&&o!==i)return!1}else if(i.operator==="<="&&!he(i.semver,String(O),r))return!1}if(!O.operator&&(i||s)&&l!==0)return!1}return!(s&&f&&!i&&l!==0||i&&v&&!s&&l!==0||L||m)},Yt=(t,e,r)=>{if(!t)return e;const n=ft(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Kt=(t,e,r)=>{if(!t)return e;const n=ft(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var zi=Hi;const Qe=Re,kt=xe,Wi=X,Jt=ar,Yi=le,Ki=Yn,ki=Jn,Ji=Zn,Qi=ts,Zi=ss,eo=as,to=us,ro=ds,no=Y,so=vs,io=$s,oo=it,ao=ws,co=Ls,lo=Me,uo=ot,fo=cr,ho=lr,po=at,mo=ct,Eo=ur,vo=ks,go=Ve(),Ro=K(),$o=Ue,So=ui,yo=pi,Oo=gi,wo=Si,Ao=wi,Io=lt,Lo=Di,No=Mi,To=Ui,bo=Bi,Po=zi;Qe.re,Qe.src,Qe.t,kt.SEMVER_SPEC_VERSION,kt.RELEASE_TYPES,Jt.compareIdentifiers,Jt.rcompareIdentifiers;const zo=React.forwardRef(function({},e){const[r,n]=React.useState(!1);React.useImperativeHandle(e,()=>({open:()=>n(!0),hide:()=>n(!1)}),[]);const s="Ctrl",i="Ctrl";return React.useEffect(()=>{const l=g=>{g.key==="/"&&(g.metaKey||g.ctrlKey)&&n(!0)};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[]),React.useEffect(()=>{if(r){const l=g=>{g.key==="Escape"&&n(!1)};return document.addEventListener("keyup",l),()=>document.removeEventListener("keyup",l)}},[r]),ReactDOM.createPortal(T.jsx("dialog",{className:"help",autoFocus:!0,open:r,children:T.jsxs("div",{className:"dialog__container",children:[T.jsxs("div",{className:"dialog__title",children:[T.jsx("h1",{children:"帮助"}),T.jsx("button",{className:"dialog__close",onClick:()=>n(!1),children:"×"})]}),T.jsxs("div",{className:"dialog__content",children:[T.jsx("h2",{children:"快捷键"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsxs("code",{children:[s," + S"]}),": 保存并复制链接"]}),T.jsxs("li",{children:[T.jsxs("code",{children:[s," + E"]}),": 执行代码"]}),T.jsxs("li",{children:[T.jsxs("code",{children:[s," + H"]}),": 历史代码（",s," + S 保存下来的代码）"]}),T.jsxs("li",{children:[T.jsxs("code",{children:[i," + /"]}),": 查看帮助"]})]}),T.jsx("h2",{children:"支持的语言"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("code",{children:"JavaScript"})}),T.jsx("li",{children:T.jsx("code",{children:"TypeScript"})})]})]})]})}),document.body,"help-dialog")}),dr="playground-history";let Z;try{Z=JSON.parse(localStorage.getItem(dr)||"[]")}catch{Z=[]}const Te=[];function _o(t){return Te.push(t),t(Z),()=>{const e=Te.indexOf(t);e!==-1&&Te.splice(e,1)}}function jo(t){typeof t=="function"&&(t=t(Z)),Z=t,localStorage.setItem(dr,JSON.stringify(Z)),Te.forEach(e=>e(Z))}const Do=[];function xo(){const t=React.useSyncExternalStore(_o,()=>Z??Do);React.useEffect(()=>{r({type:"set",codes:t})},[t]);const[e,r]=React.useReducer((n,s)=>{switch(s.type){case"add":return[...n,{code:s.code,time:Date.now()}];case"set":return s.codes;case"remove":return n.filter((i,l)=>l!==s.index)}},t);return React.useEffect(()=>{jo(e)},[e]),[React.useMemo(()=>[...e].reverse(),[e]),r]}const Wo=React.forwardRef(function({theme:e,onChange:r},n){const[s,i]=React.useState(!1);React.useImperativeHandle(n,()=>({open:()=>i(!0),hide:()=>i(!1)}),[]),React.useEffect(()=>{const m=L=>{L.key==="h"&&(L.metaKey||L.ctrlKey)&&i(!0)};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[]);const[l,g]=xo(),[o,f]=React.useState(0),v=React.useMemo(()=>l[o],[l,o]);return React.useEffect(()=>{if(s){const m=L=>{L.key==="Escape"&&i(!1),L.key==="ArrowUp"&&f(O=>(O+l.length-1)%l.length),L.key==="ArrowDown"&&f(O=>(O+1)%l.length),L.key==="Enter"&&(r==null||r(v),i(!1))};return document.addEventListener("keyup",m),()=>document.removeEventListener("keyup",m)}},[v,l.length,r,s]),ReactDOM.createPortal(T.jsx("dialog",{className:"history",autoFocus:!0,open:s,children:T.jsxs("div",{className:"dialog__container",children:[T.jsxs("div",{className:"dialog__title",children:[T.jsx("h5",{children:"历史记录"}),T.jsxs("span",{children:[T.jsx("code",{children:"↑/↓"}),"(选择)"]}),T.jsxs("span",{children:[T.jsx("code",{children:"Enter"}),"(确认)"]}),T.jsx("button",{className:"dialog__close",onClick:()=>i(!1),children:"×"})]}),s&&T.jsxs("div",{className:"dialog__content",children:[T.jsx("div",{className:"history__list",children:l.map((m,L)=>T.jsxs("div",{className:"history__item"+(L===o?" history__item--selected":""),onClick:()=>f(L),children:[T.jsx("pre",{className:"history__item__code",children:m.code}),T.jsx("div",{className:"history__item__time",children:new Date(m.time).toLocaleString()})]},m.time))}),T.jsx("div",{className:"preview",children:T.jsx(In,{height:"100%",width:"100%",theme:e==="light"?"vs":"vs-dark",language:"javascript",value:(v==null?void 0:v.code)??"",options:{readOnly:!0,minimap:{enabled:!1},scrollbar:{vertical:"hidden"}}})})]})]})}),document.body,"history-dialog")}),Yo=Nn(!1);var ce;const ht=class ht{constructor(){mt(this,ce,void 0);$e(this,"resolve");$e(this,"reject");let e,r;Fe(this,ce,new Promise((n,s)=>{e=n,r=s})),this.resolve=e,this.reject=r}static create(){return new ht}get promise(){return pt(this,ce)}complete(e){this.resolve(e)}fail(e){this.reject(e)}reset(){return Fe(this,ce,new Promise((e,r)=>{this.resolve=e,this.reject=r})),this}};ce=new WeakMap;let tt=ht;function Qt(t,e,r){React.useEffect(()=>(document.addEventListener(t,e,r),()=>{document.removeEventListener(t,e,r)}),[t,e,r])}const Ze=new Map,Ko=()=>{const t=[];let e=null;return{asyncFeature:tt.create(),onActiveCommandChange(r){return t.push(r),()=>{const n=t.indexOf(r);n!==-1&&t.splice(n,1)}},run(r){return e=r,this.asyncFeature=this.asyncFeature.reset(),t.forEach(n=>n(r)),this.asyncFeature.promise},get activeCommandHandler(){return e?Ze.get(e):void 0},register(r,n){return Ze.set(r,n),()=>{Ze.delete(r)}}}},pr=React.createContext(null);function Co(t){const[e,r]=React.useState();return React.useEffect(()=>t.onActiveCommandChange(()=>{r(()=>t.activeCommandHandler)}),[t]),e}function Mo(t){const e=Co(React.useContext(pr)),[r,n]=React.useState([]);return React.useEffect(()=>{if(!e)return;let s=!1;return async function(){const i=await e(t);s||n(i)}(),()=>{s=!0}},[e,t]),r}const de="ppd-quick-access";function ko(t){const{selector:e}=t,r=React.useRef([]),[n,s]=React.useState(""),i=React.useRef(n),l=React.useContext(pr),g=Mo(n),[o,f]=React.useState(0),v=React.useCallback(b=>{function x(_){if(!_)return;const P=_.getBoundingClientRect(),{top:G,bottom:H}=P,V=_.parentElement,{top:U,bottom:F}=V.getBoundingClientRect();G<U?_.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"}):H>F&&_.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})}typeof b=="function"?f(_=>{const P=b(_);return x(r.current[P]),P}):(f(b),x(r.current[b]))},[]);React.useEffect(()=>{const b=g.findIndex(({id:x})=>{var _;return x===((_=l.activeCommandHandler)==null?void 0:_.defaultId)});v(b===-1?0:b)},[g,l.activeCommandHandler,v]);const m=React.useMemo(()=>{var b;return(b=l.activeCommandHandler)==null?void 0:b.options},[l.activeCommandHandler]);Qt("keydown",React.useCallback(b=>{b.key==="ArrowUp"&&v(x=>{const _=x-1;return _<0?g.length-1:_}),b.key==="ArrowDown"&&v(x=>{const _=x+1;return _>=g.length?0:_})},[v,g])),Qt("keydown",React.useCallback(b=>{b.key==="Escape"&&(l.asyncFeature.fail(new Error("canceled")),A(!1)),b.key==="Enter"&&(l.asyncFeature.complete({text:i.current}),A(!1))},[l.asyncFeature]));const L=React.useRef(null),[O,A]=React.useState(!1);return React.useLayoutEffect(()=>l.onActiveCommandChange(()=>{A(!0),setTimeout(()=>{var b;return(b=L.current)==null?void 0:b.focus()},100)}),[l]),ReactDOM.createPortal(T.jsxs("div",{className:`monaco-editor ${de}`+(O?" visible":""),children:[T.jsx("input",{ref:L,type:"text",className:`${de} search-box`,autoFocus:!0,onBlur:()=>A(!1),placeholder:m==null?void 0:m.placeholder,value:n,defaultValue:m==null?void 0:m.defaultText,onChange:b=>(s(b.currentTarget.value),i.current=b.currentTarget.value)}),T.jsx("div",{className:`${de} results`,children:g.map((b,x)=>T.jsx("div",{ref:_=>r.current[x]=_,className:`${de} result-item`+(o===x?" active":""),onClick:()=>l.asyncFeature.complete(b),children:T.jsx("div",{className:`${de} result-item-id`,children:b.content??b.title})},b.id))})]}),e?document.querySelector(e):document.body)}class Vo{constructor(e,r){$e(this,"listeners",new Map);this.w=e,this.targetOrigin=r,window.addEventListener("message",n=>{if(n.origin!==r)return;const s=this.listeners.get(n.data.type);s&&s.forEach(i=>i(n.data.data))})}send(e,r){var n;(n=this.w())==null||n.postMessage({type:e,data:r},this.targetOrigin)}on(e,r){const n=this.listeners.get(e);return n?n.push(r):this.listeners.set(e,[r]),()=>{const s=this.listeners.get(e);if(s){const i=s.indexOf(r);i!==-1&&s.splice(i,1)}}}}const mr=new Vo(()=>{var t;return((t=document.querySelector("iframe.eval-logs"))==null?void 0:t.contentWindow)??window.parent},location.origin),Jo=mr,Qo=mr;let rt=null,Er;const Zo=new Promise(t=>{rt?t(rt):Er=t});function ea(t){rt=t,Er(t)}export{Xo as E,In as F,zo as H,qo as M,pr as Q,Bo as U,Jo as a,Nn as b,Ko as c,ko as d,Qo as e,Wo as f,Ho as g,Yo as h,Pe as l,Zo as m,ea as p,jo as s};
